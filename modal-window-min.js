function setupModal(e,t,n){const a=document.querySelectorAll(e),o=document.querySelector(t),c=o.querySelector(n),l='a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])';let s=null;const d=e=>{const t=o.querySelectorAll(l);if(0===t.length)return;const n=t[0],a=t[t.length-1];"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),a.focus()):document.activeElement===a&&(e.preventDefault(),n.focus()))},r=()=>{s=document.activeElement,o.style.display="flex",o.style.zIndex="1000",document.body.classList.add("scroll-lock"),requestAnimationFrame((()=>{o.style.opacity="1",o.style.transform="scale(1)"}));const e=o.querySelectorAll(l);e.length&&e[0].focus(),document.addEventListener("keydown",d),document.addEventListener("keydown",i)},u=()=>{o.style.opacity="0",o.style.transform="scale(0.95)",setTimeout((()=>{o.style.display="none",o.style.zIndex="-1000",document.body.classList.remove("scroll-lock"),s&&s.focus()}),400),document.removeEventListener("keydown",d),document.removeEventListener("keydown",i)},i=e=>{"Escape"===e.key&&u()};a.forEach((e=>{e.addEventListener("click",r)})),c.addEventListener("click",u),o.addEventListener("click",(e=>{e.target===o&&u()}))}document.addEventListener("DOMContentLoaded",(function(){setupModal("[data-main-cta-btn]","[data-main-cta-modal]","[data-main-cta-close-btn]"),setupModal("[data-sub-cta-btn]","[data-sub-cta-modal]","[data-sub-cta-close-btn]")}));
